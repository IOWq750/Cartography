# Математическая основа карт {#map-math}


## Полезные ссылки {#map-math-links}

1. [Interactive Album of Map Projections 2.0](https://projections.mgis.psu.edu)

2. [Map Projection Transitions](https://jasondavies.com/maps/transition)

3. [Myriahedral projections](https://philogb.github.io/page/myriahedral)

4. [Projection Wizard](https://projectionwizard.org)



## Исходные данные
[База данных в формате Geopackage](https://yadi.sk/d/C7XxPEtXmS4JWA)

## Интерфейс QGIS {#map-math-interface}
[В начало справки ⇡](#map-math)

При вызове QGIS Desktop и создании нового проекта окно программы будет состоять из основных панелей и окон: 1) самое большое окно в середине – окно карты, где происходит визуализация пространственных данных; 2) слева панель со слоями – перечнем основных используемых слоёв данных; 3) справа панель Браузера – встроенного проводника по файловой системе компьютера. Панелей и окон может быть больше. Их полный перечень становится доступен при щелчке правой кнопкой мыши по пустому месту сверху на панели. Включенная галочка в списке означает, что панель или окно активны.


![Основные панели и окна QGIS Desktop](images/Ref02/Interface.png)

Как правило, по умолчанию открыта панель работы со слоями (на рисунке слева). Именно с помощью этой панели возможно добавление данных в проект. Обратите внимание, что для добавления векторных, растровых, табличных и прочих данных предусмотрены разные иконки. Добавлять данные в проект также можно двойным щелчком по объекту в браузере.

**Проект QGIS** – это файл, в котором хранятся ссылки на пространственные данные (**но не сами пространственные данные!**), а также настройки их символики, подписей, система координат карты, история геообработки и некоторые другие. Файл проекта имеет формат **QGZ** и позволяет открыть проект в том виде (с теми слоями и их свойствами), в котором его последний раз сохраняли. Сохраните проект после добавления необходимых слоёв или изменения настроек их отображения **Проект – Сохранить**, либо нажмите на соответствующую иконку.

Открыть свойства самого проекта можно выбрав **Проект – Свойства...**


![Окно свойств проекта](images/Ref02/Project_properties.png)


В свойствах проекта можно менять, например, систему координат. **Обратите внимание, от изменения системы координат проекта система координат слоёв в этом проекте не поменяются**. Программное обеспечение умеет на лету перепроецировать слои в разных системах координат, поэтому мы их в проекте можем видеть вместе (если, конечно, данные в них на одну территорию).


## Системы координат {#map-topo-crs}
[В начало справки ⇡](#map-math)

В программном обеспечении ГИС традиционно принято выделять две большие категории систем координат (СК): 1) географические СК, 2) спроецированные СК.

1. **Географические системы координат** основаны на датумах. _Датум_ – это параметры размещения эллипсоида внутри тела земли. Для одного эллипсоида может быть много датумов. Единицы измерения в ГСК – широта и долгота в градусах.

2. **Спроецированные системы координат** основаны на проекциях. _Проекция_ – это математически обусловленное правило перехода от поверхности эллипсоида к плоскости карты. Единицы измерения в спроецированных СК – метры, километры, мили, футы и прочие единицы длины.

Проекций великое множество, они подразделяются по характеру искажений и по применяемой для построения вспомогательных геометрических фигур. Подробнее об этом можно узнать из учебников [[Картография, 2002](https://geokniga.org/bookfiles/geokniga-berlyant-am-kartografiya.pdf); [Серапинас, 2012](https://dropbox.com/sh/zfcyx1ji3qt6ke6/AAAUi_OTMYle0g2sxhmfjZnha?dl=0)]

В ГИС ПО системы координат могут быть представлены тремя основными форматами:

1. Коды EPSG

2. WKT

3. Proj

## Искажения картографических проекций {#map-topo-distortions}
[В начало справки ⇡](#map-math)



----
_Карпачевский А.М._ **Картография: практикум в QGIS**. М.: Географический факультет МГУ, `r lubridate::year(Sys.Date())`.
----